<!DOCTYPE HTML>

<html>

<head>
		<title>Lesson15</title>
</head>

<body id="bod">
	<span id="sp">Insert</span>
	<a href="#" onclick="rng1()"> HREF</a>


	<img id="img1" src="gruha.jpg">
	<img id="img2" src="klubnika.jpg">
	<img src="malina.jpg">

	<a href="#" onclick="ocl();">Кнопка</a>


	<script>
    	var rsp = document.getElementById("sp");
		var el_new = document.createElement("a");



		el_new.setAttribute("href", "#") ;
		el_new.setAttribute("style", "background-color: red");

		var rng = document.createRange(); 			//
		//rng.selectNode(rsp);						// устанавливаем начаальную точку
		rng.selectNodeContents(rsp);				// обернуули, то что надо
        rng.surroundContents(el_new);


        function ocl() {
        	var rbod = document.getElementById("bod");
        	var rimg1 = document.getElementById("img1");
			var rimg2 = document.getElementById("img2");
            var rng = document.createRange(); 				// создем Ренж


			rng.setStartBefore(rimg1);				// указываем начало ренжа
            rng.setEndAfter(rimg2);					// указываем конец ренжа
			rng.deleteContents(); 					// удалем контент

            var ex = rng.extractContents();				// перемещаем


			rbod.insertBefore(ex);						// вставвляем вконце
        }

	</script>

</body>

</html>